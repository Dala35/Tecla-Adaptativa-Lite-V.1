<!DOCTYPE html><html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Tecla Adaptativa Lite V1 ‚Äì Interface Cognitiva Inclusiva</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(to bottom right, #111827, #1f2937);
            font-family: 'Inter', sans-serif;
        }
        .mic-active {
            animation: pulse-mic 1s infinite;
        }
        @keyframes pulse-mic {
            0%, 100% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(52, 152, 219, 0); }
        }
        .button-style {
            padding: 1rem;
            font-size: 1rem;
            border: none;
            border-radius: 0.75rem;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }
        .button-style:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 10px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="text-white min-h-screen flex flex-col items-center p-6 sm:p-10">
    <div class="container bg-gray-800 rounded-3xl shadow-2xl max-w-xl w-full p-6 sm:p-10 mt-6">
        <h1 class="text-3xl font-bold mb-4 text-center text-primary-blue">üß† Tecla Adaptativa Lite V1</h1>
        <p class="text-base text-gray-300 text-center mb-6">Escolhe, dita ou escreve. A vocaliza√ß√£o e o destaque ser√£o no idioma selecionado.</p><div class="flex flex-col gap-4 mb-8">
        <div class="w-full">
            <label for="lang-select" class="block text-sm font-medium text-gray-400 mb-2">L√≠ngua de Manifesta√ß√£o (Voz e Destaque):</label>
            <select id="lang-select" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" onchange="mudarLinguaVocalizacao(this.value)">
                <option value="ckw" selected>Cokwe (Chokwe)</option>
                <option value="knd">Kimbundo</option>
                <option value="mbu">Umbundu</option>
            </select>
        </div>

        <div class="flex gap-4">
            <button id="mic-button" onclick="iniciarReconhecimentoDeFala()" class="flex-1 button-style bg-primary-blue hover:bg-blue-600 active:bg-blue-700 flex items-center justify-center py-3">üé§ Falar</button>
            <button id="translate-button" onclick="handleTextTranslation()" class="flex-1 button-style bg-gray-600 hover:bg-gray-700 active:bg-gray-800 flex items-center justify-center py-3">‚úçÔ∏è Traduzir Texto</button>
        </div>

        <input type="text" id="text-input" placeholder="Escreva aqui a sua frase em Portugu√™s..." class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-primary-blue focus:border-primary-blue transition duration-200" onkeydown="if(event.key==='Enter') handleTextTranslation()" />
    </div>

    <div class="option-grid grid grid-cols-2 sm:grid-cols-3 gap-4 mt-6">
        <button onclick="selecionarExpressao('ola')" class="button-style bg-green-600 hover:bg-green-700 active:bg-green-700">‚òÄÔ∏è Ol√° / Bom dia</button>
        <button onclick="selecionarExpressao('como_estas')" class="button-style bg-indigo-600 hover:bg-indigo-700 active:bg-indigo-800">ü§î Como est√°s?</button>
        <button onclick="selecionarExpressao('estou_bem')" class="button-style bg-teal-600 hover:bg-teal-700 active:bg-teal-800">‚úÖ Estou bem</button>
        <button onclick="selecionarExpressao('obrigado')" class="button-style bg-yellow-600 hover:bg-yellow-700 active:bg-yellow-800">üôè Obrigado(a)</button>
        <button onclick="selecionarExpressao('eu_te_amo')" class="button-style bg-red-600 hover:bg-red-700 active:bg-red-800">‚ù§Ô∏è Eu te amo</button>
        <button onclick="selecionarExpressao('quero_comer')" class="button-style bg-pink-600 hover:bg-pink-700 active:bg-pink-800">üçΩÔ∏è Quero comer</button>
    </div>

    <div id="resposta" class="output mt-10 bg-gray-900 border border-primary-blue/50 p-6 rounded-xl text-center text-lg font-medium min-h-[7rem] flex flex-col justify-center">
        <p class="text-gray-400">Clique numa op√ß√£o, digite uma frase ou use o microfone para come√ßar.</p>
    </div>

    <div id="aviso_traducao" class="text-xs text-primary-blue mt-4 text-center p-2 bg-primary-blue/20 rounded-lg hidden">
        <p><strong>PROJETO DALA CURE OS:</strong> Tradu√ß√µes validadas pela nossa co-cria√ß√£o.</p>
    </div>
</div>

<footer class="mt-10 text-sm text-gray-400 text-center max-w-xl">
    Criado por Dala De Carvalho ‚Äì Projeto DALA CURE OS.
</footer>

<script>
    let linguaVocalizacao = 'ckw';
    const expressoes = {
        ola: { pt:'Ol√° / Bom dia', ckw:'Moyo wenu', knd:'Dizanga', mbu:'Moyo u wa' },
        como_estas: { pt:'Como est√°s?', ckw:'Kanawa?', knd:'Uejinga u√™?', mbu:'Oku li ndati?' },
        estou_bem: { pt:'Estou bem', ckw:'Ngulhi kanawa', knd:'Nga ri kilembu', mbu:'Ndi li pala' },
        obrigado: { pt:'Obrigado(a)', ckw:'Na√ßakwila', knd:'Kutulenda', mbu:'Pandula' },
        eu_te_amo: { pt:'Eu te amo', ckw:'Na ku zanga', knd:'Ngi ku zola', mbu:'Ndi ku sole' },
        quero_comer: { pt:'Quero comer', ckw:'Nguna zangue kulhia', knd:'Ngi zanda kulia', mbu:'Ndiongola li√£' }
    };

    const linguasInfo = { ckw:{nome:'Cokwe', cor:'ckw-color'}, knd:{nome:'Kimbundo', cor:'knd-color'}, mbu:{nome:'Umbundu', cor:'mbu-color'} };

    function mudarLinguaVocalizacao(novaLingua){
        linguaVocalizacao = novaLingua;
        document.getElementById('resposta').innerHTML = `<p class='text-xl text-primary-blue font-semibold'>Manifesta√ß√£o alterada para: ${linguasInfo[novaLingua].nome}</p>`;
    }

    function selecionarExpressao(chave){
        const expressao = expressoes[chave];
        exibirEfalar(expressao);
    }

    function exibirEfalar(expressao){
        const output = document.getElementById('resposta');
        let html='';
        for(let lang in linguasInfo){
            const destaque = (lang===linguaVocalizacao)?'text-3xl font-extrabold text-white':'text-lg font-semibold text-gray-300';
            html += `<p class='${destaque}'>${linguasInfo[lang].nome}: ${expressao[lang]}</p>`;
        }
        output.innerHTML = html;
        falar(expressao[linguaVocalizacao]);
    }

    function falar(texto){
        if('speechSynthesis' in window){
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(texto);
            const voices = window.speechSynthesis.getVoices();
            const ptVoice = voices.find(v=>v.lang.startsWith('pt'));
            if(ptVoice) msg.voice=ptVoice;
            msg.lang='pt-AO';
            msg.rate=0.9;
            window.speechSynthesis.speak(msg);
        }
    }

    let recognition;
    if(window.SpeechRecognition || window.webkitSpeechRecognition){
        recognition = new (window.SpeechRecognition||window.webkitSpeechRecognition)();
        recognition.continuous=false;
        recognition.interimResults=false;
        recognition.lang='pt-PT';
        recognition.onstart=()=>{document.getElementById('mic-button').innerText='üî¥ A Ouvir...';}
        recognition.onend=()=>{document.getElementById('mic-button').innerText='üé§ Falar';}
        recognition.onresult=(e)=>{processarComandoDeVoz(e.results[0][0].transcript);};
    }

    function iniciarReconhecimentoDeFala(){
        if(recognition) recognition.start();
    }

    function processarComandoDeVoz(transcript){
        const texto=transcript.trim();
        const chave=Object.keys(expressoes).find(k=>expressoes[k].pt.toLowerCase()===texto.toLowerCase());
        if(chave) selecionarExpressao(chave);
        else document.getElementById('resposta').innerHTML=`<p class='text-red-500 font-semibold'>N√£o encontrado: ${texto}</p>`;
    }

    async function handleTextTranslation(){
        const texto=document.getElementById('text-input').value.trim();
        if(!texto) return;
        // Simula√ß√£o de tradu√ß√£o, integrar API real se necess√°rio
        const trad={pt:texto,ckw:texto,knd:texto,mbu:texto};
        exibirEfalar(trad);
        document.getElementById('text-input').value='';
    }
</script>

</body>
</html>
